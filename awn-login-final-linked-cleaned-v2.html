
<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>تسجيل الدخول - الإنماء</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&amp;display=swap" rel="stylesheet"/>
<style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Tajawal', sans-serif;
      background-color: #012b3e;
      color: white;
    }
    .container {
      max-width: 400px;
      margin: auto;
      padding: 20px;
    }
    .switch-wrapper {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .switch-label {
      font-size: 0.85em;
    }
    .switch {
      position: relative;
      display: inline-block;
      width: 44px;
      height: 24px;
    }
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0; left: 0; right: 0; bottom: 0;
      background-color: #555;
      transition: 0.4s;
      border-radius: 34px;
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: 0.4s;
      border-radius: 50%;
    }
    input:checked + .slider { background-color: #8e9be4; }
    input:checked + .slider:before { transform: translateX(20px); }

    .header {
      text-align: right;
      padding: 40px 0 10px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .header h1 { font-size: 1.8em; margin: 0; }
    .header h2 { font-size: 1.2em; margin-top: 5px; color: #ffdada; }

    input[type="text"],
    input[type="password"] {
      width: 100%;
      padding: 15px;
      margin: 10px 0;
      border: none;
      border-radius: 12px;
      background-color: #00384f;
      color: white;
      font-size: 1em;
    }
    input::placeholder { color: #aaa; }

    .checkbox {
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 10px 0;
    }
    .checkbox input {
      width: 18px;
      height: 18px;
    }

    .btn-primary, .btn-outline {
      width: 100%;
      padding: 15px;
      font-size: 1.1em;
      border-radius: 12px;
      cursor: pointer;
      margin: 10px 0;
    }
    .btn-primary {
      background-color: #ff9d8d;
      color: black;
      border: none;
    }
    .btn-outline {
      background-color: transparent;
      border: 2px solid #ff9d8d;
      color: #ff9d8d;
    }

    .link {
      text-align: center;
      color: #ffdada;
      font-size: 0.95em;
      cursor: pointer;
    }

    .login-delegate {
      margin-top: 30px;
      padding: 15px;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      text-align: center;
    }
    .login-delegate p {
      font-size: 0.95em;
      margin-bottom: 15px;
    }

    .guide {
      animation: pulse 1.2s infinite;
      box-shadow: 0 0 10px #ff9d8d;
    }
    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(255, 157, 141, 0.7); }
      70% { box-shadow: 0 0 0 15px rgba(255, 157, 141, 0); }
      100% { box-shadow: 0 0 0 0 rgba(255, 157, 141, 0); }
    }
  
@keyframes highlight {
  0% { box-shadow: 0 0 0 0 rgba(255, 255, 0, 0.7); }
  50% { box-shadow: 0 0 10px 10px rgba(255, 255, 0, 0.2); }
  100% { box-shadow: 0 0 0 0 rgba(255, 255, 0, 0); }
}
.highlight {
  animation: highlight 1.5s ease-in-out 3;
  border-radius: 8px;
}

@keyframes pulseGlow {
  0% { box-shadow: 0 0 5px #fff; }
  100% { box-shadow: 0 0 15px #fff; }
}
.glow {
  animation: pulseGlow 1s infinite alternate;
  box-shadow: 0 0 10px 2px #fff;
}
</style>
</head>
<body>
<div class="container">
<div class="header">
<div>
<h1>أهلاً بعودتك</h1>
<h2>نورة</h2>
</div>
<div class="switch-wrapper">
<span class="switch-label">وضع عون</span>
<label class="switch">
<input id="toggleAwn" onchange="toggleAwnMode()" type="checkbox"/>
<span class="slider"></span>
</label>
</div>
</div>
<input placeholder="اسم المستخدم أو رقم الهوية" type="text"/>
<input placeholder="كلمة المرور" type="password"/>
<div class="checkbox">
<input id="remember" type="checkbox"/>
<label for="remember">تذكرني</label>
</div>
<button class="btn-primary" id="loginBtn" onclick="handleLogin()">تسجيل الدخول</button>
<div class="link" id="forgotLink" onclick="window.location.href='forgot-id-final-cleaned-v2.html'">نسيت اسم المستخدم أو كلمة المرور؟</div>
<button class="btn-outline" id="openAccountBtn">فتح حساب</button>
<div class="login-delegate">
<p>هل أنت مفوض من قبل أحد عملائنا؟ قم بتسجيل الدخول للوصول إلى حساب المفوض له.</p>
<button class="btn-primary" id="delegateBtn" onclick="window.location.href='delegate-login.html'">تسجيل دخول للمفوض له</button>
</div>
</div>
<script>
    function speak(text, callback) {
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = 'ar-SA';
      utterance.onend = callback;
      speechSynthesis.speak(utterance);
    }

    function toggleAwnMode() {
      const isChecked = document.getElementById('toggleAwn').checked;
      if (isChecked) {
        localStorage.setItem('awnMode', 'on');
        startAwnGuide();
      } else {
        localStorage.setItem('awnMode', 'off');
        window.speechSynthesis.cancel();
        stopGuides();
      }
    }

    function stopGuides() {
      document.getElementById('loginBtn').classList.remove('guide');
      document.getElementById('openAccountBtn').classList.remove('guide');
      document.getElementById('delegateBtn').classList.remove('guide');
    }

    function startAwnGuide() {
      window.speechSynthesis.cancel();
        stopGuides();
      speak("مرحباً، معك عون، مساعدك البنكي. كيف حاب أخدمك؟", () => {
        document.getElementById('loginBtn').classList.add('guide');
        speak("تسجل دخول؟", () => {
          document.getElementById('loginBtn').classList.remove('guide');
          document.getElementById('openAccountBtn').classList.add('guide');
          speak("تفتح حساب؟", () => {
            document.getElementById('openAccountBtn').classList.remove('guide');
            document.getElementById('delegateBtn').classList.add('guide');
            speak("ولا تدخل كمفوض؟", () => {
              setTimeout(() => {
                document.getElementById('delegateBtn').classList.remove('guide');
              }, 1000);
            });
          });
        });
      });
    }

    window.onload = () => {
      const toggle = document.getElementById('toggleAwn');
      const isAwn = localStorage.getItem('awnMode') === 'on';
      toggle.checked = isAwn;
      if (isAwn) startAwnGuide();
    };
  
    function handleLogin() {
      const usernameInput = document.querySelector('input[type="text"]').value.trim();
      const passwordInput = document.querySelector('input[type="password"]').value.trim();
      const awnMode = localStorage.getItem('awnMode') === 'on';

      if (usernameInput === "awn" && passwordInput === "12345") {
        window.location.href = "home.html";
      } else {
        if (awnMode) {
          const answer = confirm("هل نسيت اسم المستخدم أو كلمة المرور؟");
          if (answer) {
            
          } else {
            
          }
        } else {
          alert("اسم المستخدم أو كلمة المرور غير صحيحة.");
        }
      }
    }

  

    function handleLogin() {
      const usernameInput = document.querySelector('input[type="text"]').value.trim();
      const passwordInput = document.querySelector('input[type="password"]').value.trim();
      const awnMode = localStorage.getItem('awnMode') === 'on';

      if (usernameInput === "awn" && passwordInput === "12345") {
        window.location.href = "home.html";
      } else {
        if (awnMode) {
          document.getElementById("awnModal").style.display = "flex";
      guideModalWithSpeech();
        } else {
          alert("اسم المستخدم أو كلمة المرور غير صحيحة.");
        }
      }
    }

    
    function awnModalResponse(answer) {
      document.getElementById("awnModal").style.display = "none";
      
if (answer) {
  const forgot = document.getElementById("forgotLink");
  forgot.classList.add("highlight");
  speak("اضغط على زر نسيت اسم المستخدم أو كلمة المرور", () => {
    setTimeout(() => {
      forgot.classList.remove("highlight");
    }, 4500);
  });
} else {

        
      }
    }

function guideModalWithSpeech() {
  const yesBtn = document.querySelector('button[onclick="awnModalResponse(true)"]');
  const noBtn = document.querySelector('button[onclick="awnModalResponse(false)"]');

  speak("هل نسيت اسم المستخدم أو كلمة المرور؟", () => {
    yesBtn.classList.add("glow");
    speak("اضغط زر نعم.", () => {
      yesBtn.classList.remove("glow");
      noBtn.classList.add("glow");
      speak("أو اضغط زر لا.", () => {
        noBtn.classList.remove("glow");
      });
    });
  });
}
</script>
<div id="awnModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,0.6); z-index:9999; justify-content:center; align-items:center;">
<div style="background-color:#011c2a; padding:20px; border-radius:16px; max-width:300px; text-align:center;">
<p style="margin-bottom:20px; font-size:1.1em;">هل نسيت اسم المستخدم أو كلمة المرور؟</p>
<button onclick="awnModalResponse(true)" style="background-color:#a4aefc; color:#000; padding:10px 20px; border:none; border-radius:12px; margin-bottom:10px; width:100%; font-size:1em;">نعم</button>
<button onclick="awnModalResponse(false)" style="background-color:#ff9d8d; color:#000; padding:10px 20px; border:none; border-radius:12px; width:100%; font-size:1em;">لا</button>
</div>
</div>
</body>
</html>
